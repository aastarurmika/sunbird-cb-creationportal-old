<!-- <div class=" margin-l-l margin-r-l" *ngIf="!error"> -->
<!-- <div class="flex margin-left-xl flex-middle margin-bottom-xl flex-wrap">
    <div class="flex flex-middle">
      <p class="ws-mat-primary-text font-weight-bold title margin-right-xs" i18n>
        CONTENT CREATION
      </p>
      <mat-icon class="ws-mat-primary-text margin-bottom-xxs">create</mat-icon>
    </div>
    <div class="margin-left grid">
      <div class="stepper-grid">
        <div
          class="ws-mat-primary-background-op30 stepper-container cursor-pointer ws-mat-primary-background"
        >
          1
        </div>
        <p
          class="margin-left-xs margin-remove-bottom font-weight-500 op30 ws-mat-primary-text op100"
        >
          Choose Type
        </p>
        <span class="border border-solid text-gray-500 mx-3"></span>
      </div>
      <div class="stepper-grid">
        <div class="ws-mat-primary-background-op30 stepper-container cursor-pointer">
          2
        </div>
        <p class="margin-left-xs margin-remove-bottom font-weight-500 op30 cursor-pointer">
          Content
        </p>
        <span class="border border-solid text-gray-500 mx-3"></span>
      </div>
      <div class="flex flex-middle">
        <div class="ws-mat-primary-background-op30 stepper-container cursor-pointer">
          3
        </div>
        <p class="margin-left-xs margin-remove-bottom font-weight-500 op30 cursor-pointer" i18n>
          Details
        </p>
      </div>
    </div>
  </div> -->
<!-- <div class="margin-top-xl"> -->
<div *ngIf="allowAuthorContentCreate"
  class="matExpansion flex flex-middle margin-top-m margin-left-l margin-right-l padding-remove-left create-button">
  <button mat-button class="font-weight-bold margin-remove-bottom mat-h3 ws-mat-primary-text ws-mat-primary-border"
    [routerLink]="'/author/create'" id="ws-auth-root-home-btn-create" name="ws-auth-root-home-btn-create">
    <ng-container i18n>Create Content</ng-container>
    <mat-icon class="ws-mat-primary-text margin-left-m margin-bottom-xxs">create</mat-icon>
  </button>
</div>
<mat-drawer-container class="example-container" *ngIf="!error">
  <mat-drawer mode="side" opened>
    <!-- <mat-accordion expanded *ngIf="allowAuthor">
          <mat-expansion-panel [expanded]="true" class="no-shadow">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <span class="font-weight-500" i18n>Create Content</span>
              </mat-panel-title>
            </mat-expansion-panel-header> -->
    <!-- <mat-list role="list">
              <mat-list-item mat-button role="listitem">
                <a routerLink="/author/my-content" [queryParams]="{ status: 'draft' }" i18n>Draft</a>
              </mat-list-item>
              </mat-list> -->
    <!-- <ws-auth-entity-card [entity]="resourceEntity" [expanded]="true" (step)="contentClicked($event)">
              </ws-auth-entity-card> -->
    <!-- </div> -->
    <!-- <div class="flex-3"> -->
    <!-- <ng-container *ngFor="let createEntity of entity; let i = index">
                <ws-auth-entity-card [entity]="createEntity" (step)="contentClicked($event)"></ws-auth-entity-card>
                <mat-divider *ngIf="i % 2 !== 0"></mat-divider>
              </ng-container>
            </mat-expansion-panel>
        </mat-accordion> -->

    <ng-container *ngIf="isNewDesign">
      <mat-accordion expanded *ngIf="allowAuthor">
        <mat-expansion-panel [expanded]="true" class="no-shadow">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="font-weight-500" i18n>My Content</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list role="list">
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'draft' }" i18n>Draft</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'inreview' }" i18n>Sent for review</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'reviewed' }" i18n>Under publish</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'publish' }" i18n>Under processing</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'published' }" i18n>Published</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'unpublished' }" i18n>Retired</a>
            </mat-list-item>
            <mat-list-item *ngIf="allowExpiry" mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'expiry' }" i18n>Expiring</a>
            </mat-list-item>
            <mat-list-item *ngIf="allowRestore" mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'deleted' }" i18n>Deleted</a>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </ng-container>
    <ng-container *ngIf="!isNewDesign">
      <mat-accordion expanded *ngIf="allowAuthor">
        <mat-expansion-panel [expanded]="true" class="no-shadow">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="font-weight-500" i18n>My Content</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list role="list">
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'draft' }" i18n>Draft</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'inreview' }" i18n>Sent for review</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'reviewed' }" i18n>Under publish</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'publish' }" i18n>Under processing</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'published' }" i18n>Published</a>
            </mat-list-item>
            <mat-list-item mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'unpublished' }" i18n>Retired</a>
            </mat-list-item>
            <mat-list-item *ngIf="allowExpiry" mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'expiry' }" i18n>Expiring</a>
            </mat-list-item>
            <mat-list-item *ngIf="allowRestore" mat-button role="listitem">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'deleted' }" i18n>Deleted</a>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
      <!-- allowAuthor -->
      <mat-accordion *ngIf="allowReview || allowPublish">
        <mat-expansion-panel [expanded]="false" class="no-shadow">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="font-weight-500" i18n>Action Items</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list role="list">
            <mat-list-item role="listitem" *ngIf="allowRedo">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'rejected' }" i18n>Redo</a>
            </mat-list-item>
            <mat-list-item role="listitem" *ngIf="allowReview">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'review' }" i18n>Review</a>
            </mat-list-item>
            <mat-list-item role="listitem" *ngIf="allowPublish">
              <a routerLink="/author/my-content" [queryParams]="{ status: 'publish' }" i18n>Publish</a>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </ng-container>
  </mat-drawer>
  <mat-drawer-content>
    <div class="card-holder margin-top-l">

      <div class="flex flex-col md:flex-row pl-5 justify-between">
        <h3 class="mat-h3">
          <!-- Choose your starting point from the below available options -->
          <ws-author-create-course [content]="content"></ws-author-create-course>
        </h3>
        <div class="mat-h3 items-center select-lang">
          <span class="mr-1 text-center" i18n>Select Language: </span>
          <button class="lang-btn" *ngIf="allLanguages?.length" mat-button [matMenuTriggerFor]="sortLang">
            {{ language | uppercase }}
            <mat-icon>arrow_drop_down</mat-icon>
          </button>
        </div>
      </div>

      <div class="flex flex-1 flex-wrap flex-col md:flex-row">
        <!-- <div class="flex-1"> -->

        <!-- </div> -->
      </div>
    </div>

  </mat-drawer-content>
</mat-drawer-container>

<!-- </div>
</div> -->
<h2 *ngIf="error" class="mat-error margin-top-m text-center" i18n>
  Unable to load the page. Reload or try again after some time.
</h2>
<mat-menu #sortLang="matMenu">
  <ng-template matMenuContent>
    <button mat-menu-item class="flex flex-between" *ngFor="let lang of allLanguages"
      (click)="setCurrentLanguage(lang.srclang)">
      <span class="flex items-center w-full">
        <span>{{ lang.label | uppercase }}</span>
        <mat-icon class="ml-2" *ngIf="lang.srclang === language">check</mat-icon>
      </span>
    </button>
  </ng-template>
</mat-menu>
